<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Diabetes Tracker</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

<header class="top">
  <h1>Diabetes Tracker</h1>
  <span>ุซุจุช ููุฏ ู ุงูุณููู</span>
</header>

<main class="stack">

  <!-- ูุงูฺฏู -->
  <section class="card stat">
    <p>ูุงูฺฏู ููุฏ</p>
    <strong id="average">---</strong>
  </section>

  <!-- ูููุฏุงุฑ -->
  <section class="card chart">
    <div style="overflow-x:auto;">
      <canvas id="chart" style="min-width:320px;"></canvas>
    </div>
    <div class="legend" style="margin-top:8px; font-size:12px; display:flex; justify-content:center; gap:10px;">
      <span style="color:#4ade80;">โ ุทุจุน</span>
      <span style="color:#facc15;">โ ูุดุฏุงุฑ</span>
      <span style="color:#fb7185;">โ ุฎุทุฑ</span>
    </div>
  </section>

  <!-- ุฌุฏูู ููุฏ -->
  <section class="card full">
    <button onclick="exportPDF()" style="margin-bottom:10px;">๐ ุฏุงูููุฏ PDF</button>
    <h2>ุณูุงุจู ููุฏ ุฎูู</h2>
    <table>
      <thead>
        <tr>
          <th>ุชุงุฑุฎ</th><th>ุณุงุนุช</th><th>ุฒูุงู</th><th>ููุฏ</th><th>ุชูุถุญ</th>
        </tr>
      </thead>
      <tbody id="sugarTableBody"></tbody>
    </table>
  </section>

  <!-- ุฌุฏูู ุงูุณููู -->
  <section class="card full">
    <h2>ุณูุงุจู ุงูุณููู</h2>
    <table>
      <thead>
        <tr>
          <th>ุชุงุฑุฎ</th><th>ุณุงุนุช</th><th>ููุน</th><th>ุฒูุงู</th><th>ูุงุญุฏ</th><th>ุชูุถุญ</th>
        </tr>
      </thead>
      <tbody id="insulinTableBody"></tbody>
    </table>
  </section>

</main>

<!-- Modal ุซุจุช ููุฏ -->
<div id="sugarModal" class="modal">
  <div class="modal-box">
    <h3>ุซุจุช ููุฏ</h3>
    <select id="timeModal">
      <option>ุตุจุญ</option>
      <option>ูุงูุงุฑ</option>
      <option>ุนุตุฑ</option>
      <option>ุดุจ</option>
    </select>
    <input type="number" id="sugarModalInput" min="40" max="600" placeholder="mg/dl">
    <input type="text" id="noteSugarModal" placeholder="ุชูุถุญ">
    <button onclick="addSugarModal()">ุซุจุช</button>
    <button class="close" onclick="closeModal()">ุจุณุชู</button>
  </div>
</div>

<!-- Modal ุซุจุช ุงูุณููู -->
<div id="insulinModal" class="modal">
  <div class="modal-box">
    <h3>ุซุจุช ุงูุณููู</h3>
    <select id="insulinTypeModal">
      <option>ูููุฑูพุฏ</option>
      <option>ุชูฺุฆู</option>
    </select>
    <select id="insulinTimeModal">
      <option>ุตุจุญ</option>
      <option>ูุงูุงุฑ</option>
      <option>ุดุจ</option>
    </select>
    <input type="number" id="unitsModal" min="0" max="60" placeholder="ูุงุญุฏ">
    <input type="text" id="noteInsulinModal" placeholder="ุชูุถุญ">
    <button onclick="addInsulinModal()">ุซุจุช</button>
    <button class="close" onclick="closeModal()">ุจุณุชู</button>
  </div>
</div>

<!-- Bottom Navigation -->
<nav>
  <button onclick="openModal('sugarModal')">๐ฌ ููุฏ</button>
  <button onclick="openModal('insulinModal')">๐ ุงูุณููู</button>
</nav>

<script src="script.js"></script>
</body>
</html>
